//
// @name Modals
// @description CSS only modal box (exception for positioning).
// @author Sebastian Thulin
//
// @page Special/Modals
//
// @state .modal-backdrop-1 - Stripe color 1 as backdrop
// @state .modal-backdrop-2 - Stripe color 2 as backdrop
// @state .modal-backdrop-3 - Stripe color 3 as backdrop
// @state .modal-backdrop-4 - Stripe color 4 as backdrop
// @state .modal-backdrop-5 - Stripe color 5 as backdrop
//
// @state .modal-backdrop-black - Black backdrop
// @state .modal-backdrop-white - White backdrop
//
// @state .modal-large - Big modal (100% width, 100vh height)
// @state .modal-medium - Medium modal (70% width)
// @state .modal-small - Small modal (50% width)
//
// @markup
// 	<a href="#modal-target">Gummi bear modal</a>
// 	<div id="modal-target" class="modal modal-backdrop-1 modal-medium" tabindex="-1" role="dialog" aria-hidden="true">
//		<div class="modal-content">
//     		<div class="modal-header">
//				<a class="btn btn-close" href="#close"></a>
//         		<h2 class="modal-title">Gummi bears caramels</h2>
//       	</div>
//       	<div class="modal-body">
//				<article>
//                  <p>Pastry sweet topping lollipop chocolate cake cake I love lollipop. Gummies I love sesame snaps oat cake candy tart. Cake sugar plum chupa chups croissant brownie I love pudding dragée. Caramels liquorice apple pie marshmallow jujubes apple pie soufflé. Lemon drops croissant toffee gummi bears caramels I love. Pudding biscuit wafer bonbon pie danish dragée caramels pastry.</p>
//                  <p>Gingerbread I love jelly-o oat cake cookie. Icing sweet cookie sweet roll cotton candy sesame snaps candy canes I love muffin. Apple pie I love cotton candy sweet jelly-o cheesecake sweet roll. Marshmallow marshmallow jujubes. Jujubes danish lollipop sweet. Gummies I love tiramisu sugar plum.</p>
//                  <p>Liquorice donut tart tart tiramisu tootsie roll cheesecake brownie. Chocolate bonbon dessert. Halvah ice cream I love marshmallow gummi bears pudding dessert cheesecake. Carrot cake I love tiramisu toffee toffee. I love jujubes chocolate cake toffee I love sweet sesame snaps. Tart dessert candy canes lemon drops cake lemon drops pudding jelly-o. Pie tart danish candy gummi bears marshmallow. Ice cream cheesecake chupa chups oat cake apple pie jujubes. Sweet wafer marshmallow. Croissant wafer I love ice cream tootsie roll.</p>
//                  <p>Caramels bear claw biscuit chocolate cake I love. Tart cotton candy sweet liquorice. Carrot cake pastry donut cupcake tart. Tootsie roll I love cupcake carrot cake gingerbread I love donut. Lollipop gingerbread marshmallow brownie gummies apple pie tart donut. Chupa chups cupcake biscuit marshmallow croissant.</p>
//         		</article>
//			</div>
//       	<div class="modal-footer">
//         		<a href="#close" class="btn btn-default">Close</a>
//         		<button type="button" class="btn btn-primary">Save changes</button>
//       	</div>
//     	</div><!-- /.modal-content -->
//		<a href="#close" class="backdrop"></a>
// 	</div><!-- /.modal -->
//

.modal {
	@include cover();
	position: fixed;
	display: none;
	margin: 0 auto;
	opacity: 0;
	overflow: auto;
	z-index: $level-top;

	@media screen and #{$screen-sm-up} {
		padding: $grid-gutter-sm;
	}

	@media screen and #{$screen-sm-up} {
		padding: $grid-gutter-md;
	}

	@media screen and #{$screen-lg-up} {
		padding: $grid-gutter-lg * 2;
	}

	/* Backdrops */
	&[class*='modal-backdrop-'] .backdrop,
	&[class^=' modal-backdrop-'] .backdrop{
		@include cover();
		position: fixed;
		content: "";
		z-index: $level-9;
		display: block;
	}

	/* Css open/close logic */
	&:target {
		opacity: 1;
		display: block !important;
	}
}

.modal-header {
	padding: 1em;
	border-bottom: 1px solid $creamy-darker;
	position: relative;

	h1, h2, h3, h4, h5, h6 {
		padding-bottom: 0;
	}

	.btn-close {
		position: absolute;
		top: 0;
		right: 0;
		height: 2em;
		width: 2em;
		margin: -1em;
		line-height: 2em;
		text-align: center;
		padding: 0;
		border-radius: 50%;
		border: .2em solid #fff;
		box-shadow: 0 1px 1px rgba(#000,.2);
		background: $creamy;

		&:after {
			@include cover();
			content: "\00d7";
			font-size: 1.5em;
			line-height: 1;
			color: $base-font-color;
		}

		@media screen and #{$screen-xs} {
			top: 50%;
			right: 2em;
		}
	}

}

.modal-body {
	padding: 1em;
}

.modal-footer {
	padding: 1em;
	border-top: 1px solid $creamy-darker;
}

.modal-content {
	position: relative;
    z-index: $level-10;
	background: #fff;
    line-height: $base-line-height;
	box-shadow: 0 2px 2px rgba(0, 0, 0, .2);
	@include center(true, false);
}

/* Modifiers - size */

.modal-large .modal-content {
	width: 100%;
	min-height: 100vh;
	margin: 0;
}

.modal-large .btn-close {
	top: 43%;
	right: 2em;
}

.modal-large .modal-footer {
	position: absolute;
	bottom: 0;
	width: 100%;
	background: #fff;
}

.modal-medium .modal-content {
	width: 70%;

	@media screen and #{$screen-xs-up} {
		width: 100%;
	}

	@media screen and #{$screen-sm-up} {
		width: 90%;
	}

	@media screen and #{$screen-md-up} {
		width: 80%;
	}
}

.modal-small .modal-content {
	width: 50%;

	@media screen and #{$screen-xs-up} {
		width: 100%;
	}

	@media screen and #{$screen-sm-up} {
		width: 70%;
	}

	@media screen and #{$screen-md-up} {
		width: 60%;
	}
}

/* Modifiers - color */

.modal-backdrop-1 .backdrop {
    background-color: rgba($palette-gray-1,.9);

    // Color theme styles
    @each $theme, $color in $themes {
        .theme-#{$theme} & {
            background-color: rgba(map-get($color, first),.9);
        }
    }
}

.modal-backdrop-2 .backdrop  {
    background-color: rgba($palette-gray-2,.9);

    // Color theme styles
    @each $theme, $color in $themes {
        .theme-#{$theme} & {
            background-color: rgba(map-get($color, second),.9);
        }
    }
}

.modal-backdrop-3 .backdrop  {
    background-color: rgba($palette-gray-3,.9);

    // Color theme styles
    @each $theme, $color in $themes {
        .theme-#{$theme} & {
            background-color: rgba(map-get($color, third),.9);
        }
    }
}

.modal-backdrop-4 .backdrop  {
    background-color: rgba($palette-gray-4,.9);

    // Color theme styles
    @each $theme, $color in $themes {
        .theme-#{$theme} & {
            background-color: rgba(map-get($color, fourth),.9);
        }
    }
}

.modal-backdrop-black .backdrop  {
    background-color: rgba(#000,.9);
}

.modal-backdrop-white .backdrop  {
    background-color: rgba(#fff,.9);
}

.modal-backdrop-white .modal-content {
	border: 1px solid $creamy-darker;
}
