/* General */

.section {
    position: relative;
    margin: 0;
    overflow: hidden;
    min-height: $grid-gutter-md*2;
    box-shadow: inset 0 0 500px rgba(0,0,0,.07);

    .section-article {
        max-width: none;
        display: flex;

        .section-text {
            margin-left: auto;
            margin-right: auto;
            p, ul, ol, h1, h2, h3, h4, h5, h6 {
                text-shadow: 0 0 3px rgba(0,0,0,.2);
                margin-left: auto;
                margin-right: auto;
            }
        }
    }
}

.section .content-grid {
    width: 100%;
}

/* Text color */

.section.text-color-dark {
    .section-text {
        p, ul, ol, h1, h2, h3, h4, h5, h6 {
            color: $black;
        }
    }
}

/* Justify text */

.section.justify-text {
    .section-text {
        p, ul, ol, h1, h2:not(.section-title), h3, h4, h5, h6 {
            text-align: justify;
        }
    }
}

/* Paralax effect */

.section.effect-parallax {
    @media screen and #{$screen-md-up} {
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center;
    }
}

/* Multiply effect */

.section-full.effect-multiply,
.section-featured.effect-multiply {
    .container {
        position: relative;
        z-index: $level-2;
    }

    &:after {
        @include cover();
        background-blend-mode: multiply;
        content: "";
        background: inherit;
        z-index: $level-1;
    }
}

.section-split.effect-multiply .section-image {
    background-blend-mode: multiply;
}

/* Blur effect */

.section.effect-blur {
    .container {
        position: relative;
        z-index: $level-2;
    }

    &:after {
        @include cover();
        margin: -5px;
        content: "";
        background: inherit;
        z-index: $level-1;
        filter: blur(2px);
    }
}

/* Inner shadow effect */

.section.effect-inner-shadow {
    .container {
        position: relative;
        z-index: $level-2;
    }

    &:after {
        @include cover();
        content: "";
        background: inherit;
        z-index: $level-1;
        box-shadow: inset 0 0 300px rgba(0,0,0,.35);
    }
}

/* Coverage & vertical padding */

.section {

    /* Paddings */
    &.padding-sm .section-article {
        padding-top: 5vh;
        padding-bottom: 5vh;
    }

    &.padding-md .section-article {
        padding-top: 10vh;
        padding-bottom: 10vh;
    }

    &.padding-lg .section-article {
        padding-top: 20vh;
        padding-bottom: 20vh;
    }

    /* Heights */
    &.section-sm .section-article {
        min-height: $grid-gutter-md*2;
    }

    &.section-md .section-article {
        min-height: 40vh;
    }

    &.section-lg .section-article {
        min-height: 97vh;
    }

}

/* Vertical alignment */

.section {
    &.text-middle .content-grid {
        align-items: center;
    }

    &.text-top .content-grid {
        align-items: flex-start;
    }

    &.text-bottom .content-grid {
        align-items: flex-end;
    }
}

/* Titles */

.section .section-article {

    h1, .h1 {
        font-size: calc(2.2rem + 1vw);
        color: $palette-4;

        @media screen and #{$screen-xs} {
            font-size: 1.8rem;
        }

        @media screen and #{$screen-sm} {
            font-size: 2rem;
        }
    }

    h2, .h2 {
        font-size: calc(1.5rem + 1vw);

        @media screen and #{$screen-xs} {
            font-size: 1.6rem;
        }

        @media screen and #{$screen-sm} {
            font-size: 1.5rem;
        }
    }

    h3, .h3 {
        font-size: calc(1.3rem + 1vw);

        @media screen and #{$screen-xs} {
            font-size: 1.3rem;
        }

        @media screen and #{$screen-sm} {
            font-size: 1.2rem;
        }
    }

    h4, .h4 {
        font-size: calc(1.15rem + 1vw);;

        @media screen and #{$screen-xs} {
            font-size: 1.15rem;
        }

        @media screen and #{$screen-sm} {
            font-size: 1.15rem;
        }
    }

    h5, .h5 {
        font-size: calc(1.1rem + 1vw);;

        @media screen and #{$screen-xs} {
            font-size: 1.1rem;
        }

        @media screen and #{$screen-sm} {
            font-size: 1.1rem;
        }
    }

    h6, .h6 {
        font-size: calc(1.1rem + 1vw);

        @media screen and #{$screen-xs} {
            font-size: 1rem;
        }

        @media screen and #{$screen-sm} {
            font-size: 1rem;
        }
    }

}

/* Backgrounds */

.section {

    &.background-1 {
        @include btn-theme($palette-1);
    }

    &.background-2 {
        @include btn-theme($palette-2);
    }

    &.background-3 {
        @include btn-theme($palette-3);
    }

    &.background-4 {
        @include btn-theme($palette-4);
    }

    &.background-5 {
        @include btn-theme($palette-5);
    }

}

/* Font sizes */

@media screen and #{$screen-sm-up} {

    .section {

        .section-title {
            font-size: calc(1.5em + 1vw);
            line-height: 1.1em;
        }

        &.text-md {
            .section-title {
                font-size: calc(2em + 1vw);
            }
        }

        &.text-lg {
            .section-title {
                font-size: calc(2.3em + 1vw);
            }
        }

    }

}

/* Image focusing */

.section {

    $vertical-positions: top center bottom;
    $horizontal-positions: left center right;

    @each $vertical-position in $vertical-positions {
        @each $horizontal-position in $horizontal-positions {
            &.image-focus-#{$horizontal-position}-#{$vertical-position},
            &.image-focus-#{$horizontal-position}-#{$vertical-position}:after,
            &.image-focus-#{$horizontal-position}-#{$vertical-position} .section-image {
                background-position: #{$horizontal-position} #{$vertical-position};
            }
        }
    }
}
